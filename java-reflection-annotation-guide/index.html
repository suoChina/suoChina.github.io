<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜ | SuoL's Blog</title><meta name="author" content="SuoL"><meta name="copyright" content="SuoL"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å…¨é¢å­¦ä¹ Javaåå°„å’Œæ³¨è§£æœºåˆ¶ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åº”ç”¨ï¼ŒæŒæ¡åå°„APIã€æ³¨è§£å®šä¹‰ã€æ³¨è§£å¤„ç†ç­‰æ ¸å¿ƒçŸ¥è¯†ï¼Œä¸ºæ¡†æ¶å¼€å‘æ‰“ä¸‹åšå®åŸºç¡€"><meta property="og:type" content="article"><meta property="og:title" content="Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜"><meta property="og:url" content="https://suochina.github.io/java-reflection-annotation-guide/index.html"><meta property="og:site_name" content="SuoL&#39;s Blog"><meta property="og:description" content="å…¨é¢å­¦ä¹ Javaåå°„å’Œæ³¨è§£æœºåˆ¶ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åº”ç”¨ï¼ŒæŒæ¡åå°„APIã€æ³¨è§£å®šä¹‰ã€æ³¨è§£å¤„ç†ç­‰æ ¸å¿ƒçŸ¥è¯†ï¼Œä¸ºæ¡†æ¶å¼€å‘æ‰“ä¸‹åšå®åŸºç¡€"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://suochina.github.io/images/java/reflection-cover.png"><meta property="article:published_time" content="2025-11-24T15:30:00.000Z"><meta property="article:modified_time" content="2025-11-24T15:30:00.000Z"><meta property="article:author" content="SuoL"><meta property="article:tag" content="Java"><meta property="article:tag" content="åå°„"><meta property="article:tag" content="æ³¨è§£"><meta property="article:tag" content="å…ƒç¼–ç¨‹"><meta property="article:tag" content="æ¡†æ¶å¼€å‘"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://suochina.github.io/images/java/reflection-cover.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜",
  "url": "https://suochina.github.io/java-reflection-annotation-guide/",
  "image": "https://suochina.github.io/images/java/reflection-cover.png",
  "datePublished": "2025-11-24T15:30:00.000Z",
  "dateModified": "2025-11-24T15:30:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "SuoL",
      "url": "https://suochina.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://suochina.github.io/java-reflection-annotation-guide/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=JetBrains+Mono:wght@400;500;600&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,pagination:{enable:!1,hitsPerPage:8},languages:{hits_empty:"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}",hits_stats:"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!1,highlightMacStyle:!0},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶å¤±è´¥",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!0,post:!0},runtime:"å¤©",dateSuffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"null",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"åŠ è½½æ›´å¤š"},isPhotoFigcaption:!1,islazyloadPlugin:!0,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><style>.post-content{line-height:1.8;font-size:16px;font-family:"PingFang SC","Hiragino Sans GB","Microsoft YaHei","WenQuanYi Micro Hei","Helvetica Neue",Arial,sans-serif;font-weight:400;color:#2c3e50}.post-content p{margin-bottom:1.2em;text-align:justify}.post-content ol,.post-content ul{margin-bottom:1.2em;padding-left:1.5em}.post-content li{margin-bottom:.5em;line-height:1.7}.post-content h1,.post-content h2,.post-content h3,.post-content h4,.post-content h5,.post-content h6{margin-top:2rem;margin-bottom:1rem;font-weight:600;line-height:1.4}.post-content pre{border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);font-family:"JetBrains Mono","Fira Code",Consolas,Monaco,"Courier New",monospace;font-size:14px;line-height:1.6}.post-content code{font-family:"JetBrains Mono","Fira Code",Consolas,Monaco,"Courier New",monospace}.click-effect{position:fixed;pointer-events:none;z-index:9999;font-size:14px;color:#49b1f5;font-weight:700;animation:clickEffect 1s ease-out forwards;user-select:none}@keyframes clickEffect{0%{opacity:1;transform:scale(.8) translateY(0)}50%{opacity:.8;transform:scale(1.2) translateY(-20px)}100%{opacity:0;transform:scale(1) translateY(-40px)}}.ripple{position:absolute;border-radius:50%;background:rgba(73,177,245,.3);transform:scale(0);animation:ripple .6s linear;pointer-events:none}@keyframes ripple{to{transform:scale(4);opacity:0}}.post-content blockquote{border-left:4px solid #49b1f5;background:#f8f9fa;padding:1rem 1.5rem;margin:1.5rem 0;border-radius:0 8px 8px 0}.post-content table{border-collapse:collapse;width:100%;margin:1.5rem 0;box-shadow:0 2px 8px rgba(0,0,0,.1);border-radius:8px;overflow:hidden}.post-content td,.post-content th{padding:12px 16px;text-align:left;border-bottom:1px solid #e9ecef}.post-content th{background-color:#f8f9fa;font-weight:600}.post-content ol,.post-content ul{padding-left:2rem;margin:1rem 0}.post-content li{margin:.5rem 0;line-height:1.6}.post-content a{color:#49b1f5;text-decoration:none;border-bottom:1px solid transparent;transition:all .3s ease}.post-content a:hover{border-bottom-color:#49b1f5}.post-meta .post-meta-date{display:flex;flex-direction:column;gap:4px}.post-meta .post-meta-date .post-meta-date-created,.post-meta .post-meta-date .post-meta-date-updated{display:flex;align-items:center;gap:8px}.post-meta .post-meta-date .post-meta-date-updated{color:#666;font-size:.9em}.post-meta .post-meta-date .post-meta-date-updated::before{content:"ğŸ“… "}.recent-post-item .post-meta .post-meta-date{margin-bottom:8px}.recent-post-item .post-meta .post-meta-date .post-meta-date-updated{color:#999;font-size:.85em}.avatar-img{transition:transform .3s ease}.avatar-img:hover{transform:rotate(360deg)}</style><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="SuoL's Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/my_cat.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">49</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%8F%8B%E9%93%BE/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%85%B3%E4%BA%8E%E6%88%91/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/images/java/reflection-cover.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">SuoL's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%8F%8B%E9%93%BE/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%85%B3%E4%BA%8E%E6%88%91/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-11-24T15:30:00.000Z" title="å‘è¡¨äº 2025-11-24 23:30:00">2025-11-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-11-24T15:30:00.000Z" title="æ›´æ–°äº 2025-11-24 23:30:00">2025-11-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java%E6%8A%80%E6%9C%AF/">JavaæŠ€æœ¯</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>28åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å—-ä»å…¥é—¨åˆ°å®æˆ˜-ğŸ”"><a href="#Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å—-ä»å…¥é—¨åˆ°å®æˆ˜-ğŸ”" class="headerlink" title="Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜ ğŸ”"></a>Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜ ğŸ”</h1><blockquote><p>Javaåå°„å’Œæ³¨è§£æ˜¯Javaè¯­è¨€ä¸­å¼ºå¤§çš„å…ƒç¼–ç¨‹ç‰¹æ€§ï¼Œå¹¿æ³›åº”ç”¨äºæ¡†æ¶å¼€å‘ã€ORMæ˜ å°„ã€ä¾èµ–æ³¨å…¥ç­‰åœºæ™¯ã€‚æœ¬æŒ‡å—å°†å¸¦ä½ å…¨é¢å­¦ä¹ åå°„å’Œæ³¨è§£ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åº”ç”¨ï¼ŒæŒæ¡è¿™äº›æ ¸å¿ƒçŸ¥è¯†ï¼ğŸ’»</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/java/reflection-cover.png" alt="Javaåå°„ä¸æ³¨è§£"></p><h2 id="ğŸ“‹-ç›®å½•"><a href="#ğŸ“‹-ç›®å½•" class="headerlink" title="ğŸ“‹ ç›®å½•"></a>ğŸ“‹ ç›®å½•</h2><blockquote><p>ğŸ’¡ <strong>æç¤º</strong>ï¼šæœ¬æ–‡æ¡£å°†æŒç»­æ›´æ–°ï¼Œæ¬¢è¿æ”¶è—ã€‚åŒ…å«å®Œæ•´çš„ä»£ç ç¤ºä¾‹å’Œå®æˆ˜æ¡ˆä¾‹ã€‚</p></blockquote><hr><h2 id="ğŸ“-æ–‡æ¡£ä¿¡æ¯"><a href="#ğŸ“-æ–‡æ¡£ä¿¡æ¯" class="headerlink" title="ğŸ“ æ–‡æ¡£ä¿¡æ¯"></a>ğŸ“ æ–‡æ¡£ä¿¡æ¯</h2><ul><li><strong>æœ€åæ›´æ–°</strong>: 2025-11-24</li><li><strong>ä½œè€…</strong>: Suo</li><li><strong>æ ‡ç­¾</strong>: Java, åå°„, æ³¨è§£, å…ƒç¼–ç¨‹, æ¡†æ¶å¼€å‘</li><li><strong>ç‰ˆæœ¬</strong>: v1.0</li></ul><blockquote><p>ğŸ’¡ <strong>æç¤º</strong>ï¼šæœ¬æ–‡æ¡£æ˜¯ä¸€ä»½å…¨é¢çš„Javaåå°„å’Œæ³¨è§£å­¦ä¹ æŒ‡å—ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åº”ç”¨ï¼Œæ¶µç›–äº†åå°„å’Œæ³¨è§£çš„å„ä¸ªæ–¹é¢ã€‚æ–‡æ¡£å°†æŒç»­æ›´æ–°ï¼Œæ¬¢è¿æ”¶è—å’Œåˆ†äº«ã€‚</p></blockquote><hr><h2 id="ğŸ“š-ç¬¬ä¸€éƒ¨åˆ†ï¼šJavaåå°„ï¼ˆReflectionï¼‰"><a href="#ğŸ“š-ç¬¬ä¸€éƒ¨åˆ†ï¼šJavaåå°„ï¼ˆReflectionï¼‰" class="headerlink" title="ğŸ“š ç¬¬ä¸€éƒ¨åˆ†ï¼šJavaåå°„ï¼ˆReflectionï¼‰"></a>ğŸ“š ç¬¬ä¸€éƒ¨åˆ†ï¼šJavaåå°„ï¼ˆReflectionï¼‰</h2><h3 id="1-1-ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ"><a href="#1-1-ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ"></a>1.1 ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ</h3><p><strong>åå°„ï¼ˆReflectionï¼‰</strong> æ˜¯Javaè¯­è¨€çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒå…è®¸ç¨‹åºåœ¨<strong>è¿è¡Œæ—¶</strong>åŠ¨æ€åœ°è·å–ç±»çš„ä¿¡æ¯ã€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å­—æ®µç­‰ï¼Œè€Œæ— éœ€åœ¨ç¼–è¯‘æ—¶çŸ¥é“ç±»çš„å…·ä½“ä¿¡æ¯ã€‚</p><p><strong>æ ¸å¿ƒç‰¹ç‚¹</strong>ï¼š</p><ul><li>âœ… <strong>è¿è¡Œæ—¶åŠ¨æ€è·å–ç±»ä¿¡æ¯</strong>ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶è·å–ç±»çš„åç§°ã€æ–¹æ³•ã€å­—æ®µã€æ„é€ å™¨ç­‰</li><li>âœ… <strong>åŠ¨æ€åˆ›å»ºå¯¹è±¡</strong>ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åˆ›å»ºç±»çš„å®ä¾‹</li><li>âœ… <strong>åŠ¨æ€è°ƒç”¨æ–¹æ³•</strong>ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•</li><li>âœ… <strong>è®¿é—®ç§æœ‰æˆå‘˜</strong>ï¼šå¯ä»¥è®¿é—®å’Œä¿®æ”¹ç§æœ‰å­—æ®µã€è°ƒç”¨ç§æœ‰æ–¹æ³•</li><li>âš ï¸ <strong>æ€§èƒ½å¼€é”€</strong>ï¼šåå°„æ“ä½œæ¯”ç›´æ¥è°ƒç”¨æ…¢ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨</li></ul><h3 id="1-2-åå°„çš„æ ¸å¿ƒç±»"><a href="#1-2-åå°„çš„æ ¸å¿ƒç±»" class="headerlink" title="1.2 åå°„çš„æ ¸å¿ƒç±»"></a>1.2 åå°„çš„æ ¸å¿ƒç±»</h3><p>Javaåå°„çš„æ ¸å¿ƒç±»éƒ½åœ¨ <code>java.lang.reflect</code> åŒ…ä¸­ï¼š</p><table><thead><tr><th>ç±»å</th><th>ä½œç”¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong><code>Class</code></strong></td><td>ç±»çš„å…ƒæ•°æ®</td><td>è¡¨ç¤ºä¸€ä¸ªç±»æˆ–æ¥å£ï¼Œæ˜¯æ‰€æœ‰åå°„æ“ä½œçš„å…¥å£</td></tr><tr><td><strong><code>Field</code></strong></td><td>å­—æ®µä¿¡æ¯</td><td>è¡¨ç¤ºç±»çš„å­—æ®µï¼ˆæˆå‘˜å˜é‡ï¼‰</td></tr><tr><td><strong><code>Method</code></strong></td><td>æ–¹æ³•ä¿¡æ¯</td><td>è¡¨ç¤ºç±»çš„æ–¹æ³•</td></tr><tr><td><strong><code>Constructor</code></strong></td><td>æ„é€ å™¨ä¿¡æ¯</td><td>è¡¨ç¤ºç±»çš„æ„é€ æ–¹æ³•</td></tr><tr><td><strong><code>Parameter</code></strong></td><td>å‚æ•°ä¿¡æ¯</td><td>è¡¨ç¤ºæ–¹æ³•æˆ–æ„é€ å™¨çš„å‚æ•°ï¼ˆJava 8+ï¼‰</td></tr><tr><td><strong><code>Modifier</code></strong></td><td>ä¿®é¥°ç¬¦å·¥å…·</td><td>è§£æè®¿é—®ä¿®é¥°ç¬¦ï¼ˆpublicã€privateç­‰ï¼‰</td></tr><tr><td><strong><code>Array</code></strong></td><td>æ•°ç»„å·¥å…·</td><td>åŠ¨æ€åˆ›å»ºå’Œæ“ä½œæ•°ç»„</td></tr></tbody></table><h3 id="1-3-è·å–Classå¯¹è±¡"><a href="#1-3-è·å–Classå¯¹è±¡" class="headerlink" title="1.3 è·å–Classå¯¹è±¡"></a>1.3 è·å–Classå¯¹è±¡</h3><p>è·å– <code>Class</code> å¯¹è±¡æ˜¯åå°„çš„ç¬¬ä¸€æ­¥ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p><h4 id="æ–¹å¼1ï¼šé€šè¿‡ç±»å-classï¼ˆæ¨èï¼‰"><a href="#æ–¹å¼1ï¼šé€šè¿‡ç±»å-classï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹å¼1ï¼šé€šè¿‡ç±»å.classï¼ˆæ¨èï¼‰"></a>æ–¹å¼1ï¼šé€šè¿‡ç±»å.classï¼ˆæ¨èï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;User&gt; userClass = User.class;</span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼2ï¼šé€šè¿‡å¯¹è±¡-getClass"><a href="#æ–¹å¼2ï¼šé€šè¿‡å¯¹è±¡-getClass" class="headerlink" title="æ–¹å¼2ï¼šé€šè¿‡å¯¹è±¡.getClass()"></a>æ–¹å¼2ï¼šé€šè¿‡å¯¹è±¡.getClass()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">Class&lt;? <span class="keyword">extends</span> <span class="title class_">User</span>&gt; userClass = user.getClass();</span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼3ï¼šé€šè¿‡Class-forName-ï¼ˆæœ€å¸¸ç”¨ï¼‰"><a href="#æ–¹å¼3ï¼šé€šè¿‡Class-forName-ï¼ˆæœ€å¸¸ç”¨ï¼‰" class="headerlink" title="æ–¹å¼3ï¼šé€šè¿‡Class.forName()ï¼ˆæœ€å¸¸ç”¨ï¼‰"></a>æ–¹å¼3ï¼šé€šè¿‡Class.forName()ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éœ€è¦å®Œæ•´çš„ç±»åï¼ˆåŒ…å.ç±»åï¼‰</span></span><br><span class="line">Class&lt;?&gt; userClass = Class.forName(<span class="string">&quot;com.example.User&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼4ï¼šé€šè¿‡ç±»åŠ è½½å™¨"><a href="#æ–¹å¼4ï¼šé€šè¿‡ç±»åŠ è½½å™¨" class="headerlink" title="æ–¹å¼4ï¼šé€šè¿‡ç±»åŠ è½½å™¨"></a>æ–¹å¼4ï¼šé€šè¿‡ç±»åŠ è½½å™¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; userClass = Thread.currentThread()</span><br><span class="line">    .getContextClassLoader()</span><br><span class="line">    .loadClass(<span class="string">&quot;com.example.User&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectionDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æ–¹å¼1ï¼šç±»å.class</span></span><br><span class="line">        Class&lt;User&gt; clazz1 = User.class;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼1: &quot;</span> + clazz1.getName());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹å¼2ï¼šå¯¹è±¡.getClass()</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        Class&lt;?&gt; clazz2 = user.getClass();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼2: &quot;</span> + clazz2.getName());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹å¼3ï¼šClass.forName()</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class&lt;?&gt; clazz3 = Class.forName(<span class="string">&quot;com.example.User&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;æ–¹å¼3: &quot;</span> + clazz3.getName());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹å¼4ï¼šç±»åŠ è½½å™¨</span></span><br><span class="line">        Class&lt;?&gt; clazz4 = Thread.currentThread()</span><br><span class="line">            .getContextClassLoader()</span><br><span class="line">            .loadClass(<span class="string">&quot;com.example.User&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼4: &quot;</span> + clazz4.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-4-åˆ›å»ºå¯¹è±¡å®ä¾‹"><a href="#1-4-åˆ›å»ºå¯¹è±¡å®ä¾‹" class="headerlink" title="1.4 åˆ›å»ºå¯¹è±¡å®ä¾‹"></a>1.4 åˆ›å»ºå¯¹è±¡å®ä¾‹</h3><h4 id="æ–¹å¼1ï¼šä½¿ç”¨newInstance-ï¼ˆå·²åºŸå¼ƒï¼ŒJava-9-ï¼‰"><a href="#æ–¹å¼1ï¼šä½¿ç”¨newInstance-ï¼ˆå·²åºŸå¼ƒï¼ŒJava-9-ï¼‰" class="headerlink" title="æ–¹å¼1ï¼šä½¿ç”¨newInstance()ï¼ˆå·²åºŸå¼ƒï¼ŒJava 9+ï¼‰"></a>æ–¹å¼1ï¼šä½¿ç”¨newInstance()ï¼ˆå·²åºŸå¼ƒï¼ŒJava 9+ï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âš ï¸ å·²åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨</span></span><br><span class="line">Class&lt;User&gt; clazz = User.class;</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> clazz.newInstance(); <span class="comment">// éœ€è¦æ— å‚æ„é€ å™¨</span></span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼2ï¼šä½¿ç”¨Constructor-newInstance-ï¼ˆæ¨èï¼‰"><a href="#æ–¹å¼2ï¼šä½¿ç”¨Constructor-newInstance-ï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹å¼2ï¼šä½¿ç”¨Constructor.newInstance()ï¼ˆæ¨èï¼‰"></a>æ–¹å¼2ï¼šä½¿ç”¨Constructor.newInstance()ï¼ˆæ¨èï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ— å‚æ„é€ å™¨</span></span><br><span class="line">Class&lt;User&gt; clazz = User.class;</span><br><span class="line">Constructor&lt;User&gt; constructor = clazz.getConstructor();</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> constructor.newInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æœ‰å‚æ„é€ å™¨</span></span><br><span class="line">Constructor&lt;User&gt; constructor2 = clazz.getConstructor(String.class, Integer.class);</span><br><span class="line"><span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> constructor2.newInstance(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>);</span><br></pre></td></tr></table></figure><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ— å‚æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// getterå’Œsetter</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123; <span class="keyword">return</span> name; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123; <span class="built_in">this</span>.name = name; &#125;</span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123; <span class="keyword">return</span> age; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123; <span class="built_in">this</span>.age = age; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨åå°„åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CreateObjectDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Class&lt;User&gt; clazz = User.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹å¼1ï¼šæ— å‚æ„é€ å™¨</span></span><br><span class="line">        Constructor&lt;User&gt; noArgConstructor = clazz.getConstructor();</span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> noArgConstructor.newInstance();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ— å‚æ„é€ : &quot;</span> + user1);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹å¼2ï¼šæœ‰å‚æ„é€ å™¨</span></span><br><span class="line">        Constructor&lt;User&gt; argConstructor = clazz.getConstructor(String.class, Integer.class);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> argConstructor.newInstance(<span class="string">&quot;æå››&quot;</span>, <span class="number">30</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ‰å‚æ„é€ : &quot;</span> + user2.getName() + <span class="string">&quot;, &quot;</span> + user2.getAge());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹å¼3ï¼šè·å–æ‰€æœ‰æ„é€ å™¨</span></span><br><span class="line">        Constructor&lt;?&gt;[] constructors = clazz.getConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; constructor : constructors) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ„é€ å™¨: &quot;</span> + constructor);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-5-è·å–å’Œæ“ä½œå­—æ®µï¼ˆFieldï¼‰"><a href="#1-5-è·å–å’Œæ“ä½œå­—æ®µï¼ˆFieldï¼‰" class="headerlink" title="1.5 è·å–å’Œæ“ä½œå­—æ®µï¼ˆFieldï¼‰"></a>1.5 è·å–å’Œæ“ä½œå­—æ®µï¼ˆFieldï¼‰</h3><h4 id="è·å–å­—æ®µ"><a href="#è·å–å­—æ®µ" class="headerlink" title="è·å–å­—æ®µ"></a>è·å–å­—æ®µ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;User&gt; clazz = User.class;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰publicå­—æ®µï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</span></span><br><span class="line">Field[] publicFields = clazz.getFields();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰å­—æ®µï¼ˆåŒ…æ‹¬privateï¼Œä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</span></span><br><span class="line">Field[] allFields = clazz.getDeclaredFields();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æŒ‡å®šå­—æ®µ</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">nameField</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="è®¿é—®å’Œä¿®æ”¹å­—æ®µå€¼"><a href="#è®¿é—®å’Œä¿®æ”¹å­—æ®µå€¼" class="headerlink" title="è®¿é—®å’Œä¿®æ”¹å­—æ®µå€¼"></a>è®¿é—®å’Œä¿®æ”¹å­—æ®µå€¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å­—æ®µ</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">nameField</span> <span class="operator">=</span> User.class.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å¯è®¿é—®ï¼ˆè®¿é—®privateå­—æ®µéœ€è¦ï¼‰</span></span><br><span class="line">nameField.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å­—æ®µå€¼</span></span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) nameField.get(user);</span><br><span class="line">System.out.println(<span class="string">&quot;name: &quot;</span> + name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å­—æ®µå€¼</span></span><br><span class="line">nameField.set(user, <span class="string">&quot;æå››&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;ä¿®æ”¹åname: &quot;</span> + user.getName());</span><br></pre></td></tr></table></figure><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FieldDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>);</span><br><span class="line">        Class&lt;User&gt; clazz = User.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            field.setAccessible(<span class="literal">true</span>); <span class="comment">// è®¾ç½®å¯è®¿é—®</span></span><br><span class="line">            System.out.println(<span class="string">&quot;å­—æ®µå: &quot;</span> + field.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;å­—æ®µç±»å‹: &quot;</span> + field.getType());</span><br><span class="line">            System.out.println(<span class="string">&quot;å­—æ®µå€¼: &quot;</span> + field.get(user));</span><br><span class="line">            System.out.println(<span class="string">&quot;---&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¿®æ”¹å­—æ®µå€¼</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">nameField</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        nameField.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        nameField.set(user, <span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¿®æ”¹å: &quot;</span> + user.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-6-è·å–å’Œè°ƒç”¨æ–¹æ³•ï¼ˆMethodï¼‰"><a href="#1-6-è·å–å’Œè°ƒç”¨æ–¹æ³•ï¼ˆMethodï¼‰" class="headerlink" title="1.6 è·å–å’Œè°ƒç”¨æ–¹æ³•ï¼ˆMethodï¼‰"></a>1.6 è·å–å’Œè°ƒç”¨æ–¹æ³•ï¼ˆMethodï¼‰</h3><h4 id="è·å–æ–¹æ³•"><a href="#è·å–æ–¹æ³•" class="headerlink" title="è·å–æ–¹æ³•"></a>è·å–æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;User&gt; clazz = User.class;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰publicæ–¹æ³•ï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</span></span><br><span class="line">Method[] publicMethods = clazz.getMethods();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰æ–¹æ³•ï¼ˆåŒ…æ‹¬privateï¼Œä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</span></span><br><span class="line">Method[] allMethods = clazz.getDeclaredMethods();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æŒ‡å®šæ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">getNameMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line"><span class="type">Method</span> <span class="variable">setNameMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;setName&quot;</span>, String.class);</span><br></pre></td></tr></table></figure><h4 id="è°ƒç”¨æ–¹æ³•"><a href="#è°ƒç”¨æ–¹æ³•" class="headerlink" title="è°ƒç”¨æ–¹æ³•"></a>è°ƒç”¨æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">getNameMethod</span> <span class="operator">=</span> User.class.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) getNameMethod.invoke(user);</span><br><span class="line">System.out.println(<span class="string">&quot;name: &quot;</span> + name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨æœ‰å‚æ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">setNameMethod</span> <span class="operator">=</span> User.class.getMethod(<span class="string">&quot;setName&quot;</span>, String.class);</span><br><span class="line">setNameMethod.invoke(user, <span class="string">&quot;æå››&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;ä¿®æ”¹åname: &quot;</span> + user.getName());</span><br></pre></td></tr></table></figure><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>);</span><br><span class="line">        Class&lt;User&gt; clazz = User.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line">        Method[] methods = clazz.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ–¹æ³•å: &quot;</span> + method.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿”å›ç±»å‹: &quot;</span> + method.getReturnType());</span><br><span class="line">            System.out.println(<span class="string">&quot;å‚æ•°ç±»å‹: &quot;</span> + Arrays.toString(method.getParameterTypes()));</span><br><span class="line">            System.out.println(<span class="string">&quot;---&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è°ƒç”¨getteræ–¹æ³•</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">getNameMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) getNameMethod.invoke(user);</span><br><span class="line">        System.out.println(<span class="string">&quot;getName(): &quot;</span> + name);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è°ƒç”¨setteræ–¹æ³•</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">setNameMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;setName&quot;</span>, String.class);</span><br><span class="line">        setNameMethod.invoke(user, <span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¿®æ”¹å: &quot;</span> + user.getName());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è°ƒç”¨ç§æœ‰æ–¹æ³•</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">privateMethod</span> <span class="operator">=</span> clazz.getDeclaredMethod(<span class="string">&quot;privateMethod&quot;</span>, String.class);</span><br><span class="line">        privateMethod.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        privateMethod.invoke(user, <span class="string">&quot;ç§æœ‰æ–¹æ³•å‚æ•°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-7-åå°„çš„å¸¸ç”¨åœºæ™¯"><a href="#1-7-åå°„çš„å¸¸ç”¨åœºæ™¯" class="headerlink" title="1.7 åå°„çš„å¸¸ç”¨åœºæ™¯"></a>1.7 åå°„çš„å¸¸ç”¨åœºæ™¯</h3><h4 id="åœºæ™¯1ï¼šæ¡†æ¶å¼€å‘ï¼ˆå¦‚Springï¼‰"><a href="#åœºæ™¯1ï¼šæ¡†æ¶å¼€å‘ï¼ˆå¦‚Springï¼‰" class="headerlink" title="åœºæ™¯1ï¼šæ¡†æ¶å¼€å‘ï¼ˆå¦‚Springï¼‰"></a>åœºæ™¯1ï¼šæ¡†æ¶å¼€å‘ï¼ˆå¦‚Springï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Springçš„ä¾èµ–æ³¨å…¥ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringLikeContainer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; beans = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registerBean</span><span class="params">(String name, Class&lt;?&gt; clazz)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨åå°„åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">instance</span> <span class="operator">=</span> clazz.getConstructor().newInstance();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä½¿ç”¨åå°„æ³¨å…¥ä¾èµ–</span></span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(Autowired.class)) &#123;</span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                <span class="type">Object</span> <span class="variable">dependency</span> <span class="operator">=</span> beans.get(field.getType().getSimpleName());</span><br><span class="line">                field.set(instance, dependency);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        beans.put(name, instance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åœºæ™¯2ï¼šORMæ˜ å°„ï¼ˆå¦‚MyBatisï¼‰"><a href="#åœºæ™¯2ï¼šORMæ˜ å°„ï¼ˆå¦‚MyBatisï¼‰" class="headerlink" title="åœºæ™¯2ï¼šORMæ˜ å°„ï¼ˆå¦‚MyBatisï¼‰"></a>åœºæ™¯2ï¼šORMæ˜ å°„ï¼ˆå¦‚MyBatisï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†ResultSetæ˜ å°„åˆ°å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; T <span class="title function_">mapResultSetToObject</span><span class="params">(ResultSet rs, Class&lt;T&gt; clazz)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">T</span> <span class="variable">instance</span> <span class="operator">=</span> clazz.getConstructor().newInstance();</span><br><span class="line">    <span class="type">ResultSetMetaData</span> <span class="variable">metaData</span> <span class="operator">=</span> rs.getMetaData();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= metaData.getColumnCount(); i++) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">columnName</span> <span class="operator">=</span> metaData.getColumnName(i);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> rs.getObject(i);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä½¿ç”¨åå°„è®¾ç½®å­—æ®µå€¼</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(columnName);</span><br><span class="line">        field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        field.set(instance, value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åœºæ™¯3ï¼šåŠ¨æ€ä»£ç†"><a href="#åœºæ™¯3ï¼šåŠ¨æ€ä»£ç†" class="headerlink" title="åœºæ™¯3ï¼šåŠ¨æ€ä»£ç†"></a>åœºæ™¯3ï¼šåŠ¨æ€ä»£ç†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ¨æ€ä»£ç†ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicProxyDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">UserService</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserServiceImpl</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="type">UserService</span> <span class="variable">proxy</span> <span class="operator">=</span> (UserService) Proxy.newProxyInstance(</span><br><span class="line">            target.getClass().getClassLoader(),</span><br><span class="line">            target.getClass().getInterfaces(),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;æ–¹æ³•è°ƒç”¨å‰: &quot;</span> + method.getName());</span><br><span class="line">                    <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(target, args);</span><br><span class="line">                    System.out.println(<span class="string">&quot;æ–¹æ³•è°ƒç”¨å: &quot;</span> + method.getName());</span><br><span class="line">                    <span class="keyword">return</span> result;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">        proxy.saveUser(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-8-åå°„çš„æ€§èƒ½ä¼˜åŒ–"><a href="#1-8-åå°„çš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="1.8 åå°„çš„æ€§èƒ½ä¼˜åŒ–"></a>1.8 åå°„çš„æ€§èƒ½ä¼˜åŒ–</h3><p>åå°„æ“ä½œæ¯”ç›´æ¥è°ƒç”¨æ…¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼˜åŒ–ï¼š</p><h4 id="æ–¹å¼1ï¼šç¼“å­˜Classå¯¹è±¡"><a href="#æ–¹å¼1ï¼šç¼“å­˜Classå¯¹è±¡" class="headerlink" title="æ–¹å¼1ï¼šç¼“å­˜Classå¯¹è±¡"></a>æ–¹å¼1ï¼šç¼“å­˜Classå¯¹è±¡</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ ä¸æ¨èï¼šæ¯æ¬¡éƒ½è·å–Class</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;com.example.User&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… æ¨èï¼šç¼“å­˜Classå¯¹è±¡</span></span><br><span class="line">Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;com.example.User&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ç¼“å­˜çš„clazz</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼2ï¼šç¼“å­˜Methodå¯¹è±¡"><a href="#æ–¹å¼2ï¼šç¼“å­˜Methodå¯¹è±¡" class="headerlink" title="æ–¹å¼2ï¼šç¼“å­˜Methodå¯¹è±¡"></a>æ–¹å¼2ï¼šç¼“å­˜Methodå¯¹è±¡</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ ä¸æ¨èï¼šæ¯æ¬¡éƒ½è·å–Method</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> User.class.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line">    method.invoke(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… æ¨èï¼šç¼“å­˜Methodå¯¹è±¡</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">getNameMethod</span> <span class="operator">=</span> User.class.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line">getNameMethod.setAccessible(<span class="literal">true</span>); <span class="comment">// è®¾ç½®å¯è®¿é—®ï¼Œé¿å…é‡å¤æ£€æŸ¥</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    getNameMethod.invoke(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼3ï¼šä½¿ç”¨MethodHandleï¼ˆJava-7-ï¼‰"><a href="#æ–¹å¼3ï¼šä½¿ç”¨MethodHandleï¼ˆJava-7-ï¼‰" class="headerlink" title="æ–¹å¼3ï¼šä½¿ç”¨MethodHandleï¼ˆJava 7+ï¼‰"></a>æ–¹å¼3ï¼šä½¿ç”¨MethodHandleï¼ˆJava 7+ï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.invoke.MethodHandle;</span><br><span class="line"><span class="keyword">import</span> java.lang.invoke.MethodHandles;</span><br><span class="line"><span class="keyword">import</span> java.lang.invoke.MethodType;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MethodHandleæ¯”åå°„æ›´å¿«</span></span><br><span class="line">MethodHandles.<span class="type">Lookup</span> <span class="variable">lookup</span> <span class="operator">=</span> MethodHandles.lookup();</span><br><span class="line"><span class="type">MethodHandle</span> <span class="variable">handle</span> <span class="operator">=</span> lookup.findVirtual(</span><br><span class="line">    User.class, </span><br><span class="line">    <span class="string">&quot;getName&quot;</span>, </span><br><span class="line">    MethodType.methodType(String.class)</span><br><span class="line">);</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) handle.invoke(user);</span><br></pre></td></tr></table></figure><hr><h2 id="ğŸ“š-ç¬¬äºŒéƒ¨åˆ†ï¼šJavaæ³¨è§£ï¼ˆAnnotationï¼‰"><a href="#ğŸ“š-ç¬¬äºŒéƒ¨åˆ†ï¼šJavaæ³¨è§£ï¼ˆAnnotationï¼‰" class="headerlink" title="ğŸ“š ç¬¬äºŒéƒ¨åˆ†ï¼šJavaæ³¨è§£ï¼ˆAnnotationï¼‰"></a>ğŸ“š ç¬¬äºŒéƒ¨åˆ†ï¼šJavaæ³¨è§£ï¼ˆAnnotationï¼‰</h2><h3 id="2-1-ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ"><a href="#2-1-ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ" class="headerlink" title="2.1 ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ"></a>2.1 ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ</h3><p><strong>æ³¨è§£ï¼ˆAnnotationï¼‰</strong> æ˜¯Java 5å¼•å…¥çš„ä¸€ç§å…ƒæ•°æ®æœºåˆ¶ï¼Œç”¨äºä¸ºç¨‹åºå…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ã€å­—æ®µç­‰ï¼‰æä¾›é¢å¤–çš„ä¿¡æ¯ã€‚æ³¨è§£æœ¬èº«ä¸ä¼šå½±å“ç¨‹åºçš„æ‰§è¡Œï¼Œä½†å¯ä»¥é€šè¿‡åå°„æœºåˆ¶åœ¨è¿è¡Œæ—¶è¯»å–å’Œå¤„ç†ã€‚</p><p><strong>æ ¸å¿ƒç‰¹ç‚¹</strong>ï¼š</p><ul><li>âœ… <strong>å…ƒæ•°æ®</strong>ï¼šä¸ºä»£ç æä¾›é¢å¤–çš„æè¿°ä¿¡æ¯</li><li>âœ… <strong>ç¼–è¯‘æ—¶å¤„ç†</strong>ï¼šå¯ä»¥åœ¨ç¼–è¯‘æ—¶è¢«å¤„ç†ï¼ˆå¦‚@Overrideï¼‰</li><li>âœ… <strong>è¿è¡Œæ—¶å¤„ç†</strong>ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„è¯»å–</li><li>âœ… <strong>æ¡†æ¶æ”¯æŒ</strong>ï¼šå¹¿æ³›åº”ç”¨äºSpringã€MyBatisç­‰æ¡†æ¶</li></ul><h3 id="2-2-å†…ç½®æ³¨è§£"><a href="#2-2-å†…ç½®æ³¨è§£" class="headerlink" title="2.2 å†…ç½®æ³¨è§£"></a>2.2 å†…ç½®æ³¨è§£</h3><p>Javaæä¾›äº†ä¸€äº›å†…ç½®æ³¨è§£ï¼š</p><table><thead><tr><th>æ³¨è§£</th><th>ä½œç”¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong><code>@Override</code></strong></td><td>æ ‡è®°é‡å†™æ–¹æ³•</td><td>ç¼–è¯‘æ—¶æ£€æŸ¥æ–¹æ³•æ˜¯å¦é‡å†™äº†çˆ¶ç±»æ–¹æ³•</td></tr><tr><td><strong><code>@Deprecated</code></strong></td><td>æ ‡è®°å·²åºŸå¼ƒ</td><td>æ ‡è®°ç±»ã€æ–¹æ³•ç­‰å·²åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨</td></tr><tr><td><strong><code>@SuppressWarnings</code></strong></td><td>æŠ‘åˆ¶è­¦å‘Š</td><td>æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Šä¿¡æ¯</td></tr><tr><td><strong><code>@SafeVarargs</code></strong></td><td>å®‰å…¨å¯å˜å‚æ•°</td><td>æ ‡è®°å¯å˜å‚æ•°æ–¹æ³•çš„å®‰å…¨æ€§ï¼ˆJava 7+ï¼‰</td></tr><tr><td><strong><code>@FunctionalInterface</code></strong></td><td>å‡½æ•°å¼æ¥å£</td><td>æ ‡è®°å‡½æ•°å¼æ¥å£ï¼ˆJava 8+ï¼‰</td></tr></tbody></table><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BuiltInAnnotationDemo</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;BuiltInAnnotationDemo&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">oldMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å·²åºŸå¼ƒçš„æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">suppressWarning</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(); <span class="comment">// ä¸ä¼šäº§ç”Ÿè­¦å‘Š</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@SafeVarargs</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">safeVarargs</span><span class="params">(T... args)</span> &#123;</span><br><span class="line">        <span class="comment">// å¯å˜å‚æ•°æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@FunctionalInterface</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MyFunction</span> &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">apply</span><span class="params">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-3-å…ƒæ³¨è§£ï¼ˆMeta-Annotationï¼‰"><a href="#2-3-å…ƒæ³¨è§£ï¼ˆMeta-Annotationï¼‰" class="headerlink" title="2.3 å…ƒæ³¨è§£ï¼ˆMeta-Annotationï¼‰"></a>2.3 å…ƒæ³¨è§£ï¼ˆMeta-Annotationï¼‰</h3><p>å…ƒæ³¨è§£æ˜¯ç”¨äºå®šä¹‰å…¶ä»–æ³¨è§£çš„æ³¨è§£ï¼ŒJavaæä¾›äº†5ä¸ªå…ƒæ³¨è§£ï¼š</p><table><thead><tr><th>å…ƒæ³¨è§£</th><th>ä½œç”¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong><code>@Target</code></strong></td><td>æŒ‡å®šæ³¨è§£çš„ä½¿ç”¨ä½ç½®</td><td>å®šä¹‰æ³¨è§£å¯ä»¥åº”ç”¨åœ¨å“ªäº›åœ°æ–¹</td></tr><tr><td><strong><code>@Retention</code></strong></td><td>æŒ‡å®šæ³¨è§£çš„ä¿ç•™ç­–ç•¥</td><td>å®šä¹‰æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ</td></tr><tr><td><strong><code>@Documented</code></strong></td><td>åŒ…å«åœ¨JavaDocä¸­</td><td>æ³¨è§£ä¿¡æ¯ä¼šè¢«åŒ…å«åœ¨JavaDocä¸­</td></tr><tr><td><strong><code>@Inherited</code></strong></td><td>å…è®¸å­ç±»ç»§æ‰¿</td><td>å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„æ³¨è§£</td></tr><tr><td><strong><code>@Repeatable</code></strong></td><td>å¯é‡å¤æ³¨è§£</td><td>å…è®¸åœ¨åŒä¸€ä½ç½®é‡å¤ä½¿ç”¨æ³¨è§£ï¼ˆJava 8+ï¼‰</td></tr></tbody></table><h4 id="Target-æŒ‡å®šä½¿ç”¨ä½ç½®"><a href="#Target-æŒ‡å®šä½¿ç”¨ä½ç½®" class="headerlink" title="@Target - æŒ‡å®šä½¿ç”¨ä½ç½®"></a>@Target - æŒ‡å®šä½¿ç”¨ä½ç½®</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span>           <span class="comment">// ç±»ã€æ¥å£ã€æšä¸¾</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span>          <span class="comment">// å­—æ®µ</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span>         <span class="comment">// æ–¹æ³•</span></span><br><span class="line"><span class="meta">@Target(ElementType.PARAMETER)</span>      <span class="comment">// å‚æ•°</span></span><br><span class="line"><span class="meta">@Target(ElementType.CONSTRUCTOR)</span>   <span class="comment">// æ„é€ å™¨</span></span><br><span class="line"><span class="meta">@Target(ElementType.LOCAL_VARIABLE)</span> <span class="comment">// å±€éƒ¨å˜é‡</span></span><br><span class="line"><span class="meta">@Target(ElementType.ANNOTATION_TYPE)</span> <span class="comment">// æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.PACKAGE)</span>       <span class="comment">// åŒ…</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE_PARAMETER)</span> <span class="comment">// ç±»å‹å‚æ•°ï¼ˆJava 8+ï¼‰</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE_USE)</span>      <span class="comment">// ç±»å‹ä½¿ç”¨ï¼ˆJava 8+ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥ç»„åˆå¤šä¸ªä½ç½®</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)</span></span><br></pre></td></tr></table></figure><h4 id="Retention-æŒ‡å®šä¿ç•™ç­–ç•¥"><a href="#Retention-æŒ‡å®šä¿ç•™ç­–ç•¥" class="headerlink" title="@Retention - æŒ‡å®šä¿ç•™ç­–ç•¥"></a>@Retention - æŒ‡å®šä¿ç•™ç­–ç•¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span>  <span class="comment">// æºç é˜¶æ®µï¼Œç¼–è¯‘åä¸¢å¼ƒ</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.CLASS)</span>  <span class="comment">// ç¼–è¯‘é˜¶æ®µï¼Œè¿è¡Œæ—¶ä¸å¯è§ï¼ˆé»˜è®¤ï¼‰</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="comment">// è¿è¡Œæ—¶å¯è§ï¼Œå¯ä»¥é€šè¿‡åå°„è¯»å–</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¼–è¯‘æ—¶æ³¨è§£ï¼ˆå¦‚@Overrideï¼‰</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> CompileTimeAnnotation &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿è¡Œæ—¶æ³¨è§£ï¼ˆå¦‚Springçš„@Serviceï¼‰</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RuntimeAnnotation &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-4-è‡ªå®šä¹‰æ³¨è§£"><a href="#2-4-è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="2.4 è‡ªå®šä¹‰æ³¨è§£"></a>2.4 è‡ªå®šä¹‰æ³¨è§£</h3><h4 id="å®šä¹‰æ³¨è§£"><a href="#å®šä¹‰æ³¨è§£" class="headerlink" title="å®šä¹‰æ³¨è§£"></a>å®šä¹‰æ³¨è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬æ³¨è§£å®šä¹‰</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">    <span class="comment">// æ³¨è§£å±æ€§ï¼ˆç±»ä¼¼æ–¹æ³•ï¼Œä½†å®é™…ä¸Šæ˜¯å±æ€§ï¼‰</span></span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>; <span class="comment">// å¿…éœ€å±æ€§</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">1</span>; <span class="comment">// å¯é€‰å±æ€§ï¼Œæœ‰é»˜è®¤å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="meta">@MyAnnotation(value = &quot;test&quot;, count = 5)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">myMethod</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ³¨è§£å±æ€§ç±»å‹"><a href="#æ³¨è§£å±æ€§ç±»å‹" class="headerlink" title="æ³¨è§£å±æ€§ç±»å‹"></a>æ³¨è§£å±æ€§ç±»å‹</h4><p>æ³¨è§£å±æ€§å¯ä»¥æ˜¯ä»¥ä¸‹ç±»å‹ï¼š</p><ul><li>åŸºæœ¬ç±»å‹ï¼ˆintã€longã€booleanç­‰ï¼‰</li><li>String</li><li>Class</li><li>æšä¸¾ç±»å‹</li><li>æ³¨è§£ç±»å‹</li><li>ä»¥ä¸Šç±»å‹çš„æ•°ç»„</li></ul><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Author &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span>; <span class="comment">// å¿…éœ€å±æ€§</span></span><br><span class="line">    String <span class="title function_">email</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>; <span class="comment">// å¯é€‰å±æ€§</span></span><br><span class="line">    String[] tags() <span class="keyword">default</span> &#123;&#125;; <span class="comment">// æ•°ç»„å±æ€§</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="meta">@Author(name = &quot;å¼ ä¸‰&quot;, email = &quot;zhangsan@example.com&quot;, tags = &#123;&quot;Java&quot;, &quot;Spring&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Author(name = &quot;æå››&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">myMethod</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-5-æ³¨è§£çš„å®é™…åº”ç”¨"><a href="#2-5-æ³¨è§£çš„å®é™…åº”ç”¨" class="headerlink" title="2.5 æ³¨è§£çš„å®é™…åº”ç”¨"></a>2.5 æ³¨è§£çš„å®é™…åº”ç”¨</h3><h4 id="åº”ç”¨1ï¼šè‡ªå®šä¹‰éªŒè¯æ³¨è§£"><a href="#åº”ç”¨1ï¼šè‡ªå®šä¹‰éªŒè¯æ³¨è§£" class="headerlink" title="åº”ç”¨1ï¼šè‡ªå®šä¹‰éªŒè¯æ³¨è§£"></a>åº”ç”¨1ï¼šè‡ªå®šä¹‰éªŒè¯æ³¨è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰éªŒè¯æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> NotNull &#123;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;å­—æ®µä¸èƒ½ä¸ºç©º&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Min &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;å€¼å¤ªå°&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Min(value = 18, message = &quot;å¹´é¾„å¿…é¡»å¤§äº18å²&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Validator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">validate</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> IllegalAccessException &#123;</span><br><span class="line">        Class&lt;?&gt; clazz = obj.getClass();</span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ£€æŸ¥@NotNull</span></span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(NotNull.class)) &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(obj);</span><br><span class="line">                <span class="keyword">if</span> (value == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="type">NotNull</span> <span class="variable">notNull</span> <span class="operator">=</span> field.getAnnotation(NotNull.class);</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(notNull.message());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ£€æŸ¥@Min</span></span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(Min.class)) &#123;</span><br><span class="line">                <span class="type">Min</span> <span class="variable">min</span> <span class="operator">=</span> field.getAnnotation(Min.class);</span><br><span class="line">                <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(obj);</span><br><span class="line">                <span class="keyword">if</span> (value <span class="keyword">instanceof</span> Number) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">intValue</span> <span class="operator">=</span> ((Number) value).intValue();</span><br><span class="line">                    <span class="keyword">if</span> (intValue &lt; min.value()) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(min.message());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidatorDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="comment">// user.setUsername(null); // ä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Validator.validate(user);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åº”ç”¨2ï¼šè‡ªå®šä¹‰ORMæ³¨è§£"><a href="#åº”ç”¨2ï¼šè‡ªå®šä¹‰ORMæ³¨è§£" class="headerlink" title="åº”ç”¨2ï¼šè‡ªå®šä¹‰ORMæ³¨è§£"></a>åº”ç”¨2ï¼šè‡ªå®šä¹‰ORMæ³¨è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ORMæ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Table &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span>; <span class="comment">// è¡¨å</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Column &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span>; <span class="comment">// åˆ—å</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">nullable</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>; <span class="comment">// æ˜¯å¦å¯ä¸ºç©º</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="meta">@Table(name = &quot;users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@Column(name = &quot;id&quot;, nullable = false)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Column(name = &quot;username&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Column(name = &quot;age&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ORMæ˜ å°„å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ORMMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">generateSelectSQL</span><span class="params">(Class&lt;?&gt; clazz)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!clazz.isAnnotationPresent(Table.class)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;ç±»å¿…é¡»ä½¿ç”¨@Tableæ³¨è§£&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> clazz.getAnnotation(Table.class);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;SELECT &quot;</span>);</span><br><span class="line">        </span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        List&lt;String&gt; columns = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(Column.class)) &#123;</span><br><span class="line">                <span class="type">Column</span> <span class="variable">column</span> <span class="operator">=</span> field.getAnnotation(Column.class);</span><br><span class="line">                columns.add(column.name());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        sql.append(String.join(<span class="string">&quot;, &quot;</span>, columns));</span><br><span class="line">        sql.append(<span class="string">&quot; FROM &quot;</span>).append(table.name());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> sql.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ORMDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> ORMMapper.generateSelectSQL(User.class);</span><br><span class="line">        System.out.println(sql);</span><br><span class="line">        <span class="comment">// è¾“å‡º: SELECT id, username, age FROM users</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åº”ç”¨3ï¼šè‡ªå®šä¹‰æ—¥å¿—æ³¨è§£"><a href="#åº”ç”¨3ï¼šè‡ªå®šä¹‰æ—¥å¿—æ³¨è§£" class="headerlink" title="åº”ç”¨3ï¼šè‡ªå®šä¹‰æ—¥å¿—æ³¨è§£"></a>åº”ç”¨3ï¼šè‡ªå®šä¹‰æ—¥å¿—æ³¨è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ—¥å¿—æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Log &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">logParams</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">logResult</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨AOPæˆ–åŠ¨æ€ä»£ç†å¤„ç†æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">logMethod</span><span class="params">(Object target, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="keyword">if</span> (!method.isAnnotationPresent(Log.class)) &#123;</span><br><span class="line">            <span class="keyword">return</span> method.invoke(target, args);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Log</span> <span class="variable">log</span> <span class="operator">=</span> method.getAnnotation(Log.class);</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> method.getName();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®°å½•æ–¹æ³•è°ƒç”¨å‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;[&quot;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>() + <span class="string">&quot;] è°ƒç”¨æ–¹æ³•: &quot;</span> + methodName);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (log.logParams()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‚æ•°: &quot;</span> + Arrays.toString(args));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ‰§è¡Œæ–¹æ³•</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(target, args);</span><br><span class="line">        <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®°å½•æ–¹æ³•è°ƒç”¨å</span></span><br><span class="line">        <span class="keyword">if</span> (log.logResult()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿”å›å€¼: &quot;</span> + result);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œæ—¶é—´: &quot;</span> + (endTime - startTime) + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-6-æ³¨è§£çš„å¤„ç†æ–¹å¼"><a href="#2-6-æ³¨è§£çš„å¤„ç†æ–¹å¼" class="headerlink" title="2.6 æ³¨è§£çš„å¤„ç†æ–¹å¼"></a>2.6 æ³¨è§£çš„å¤„ç†æ–¹å¼</h3><h4 id="æ–¹å¼1ï¼šç¼–è¯‘æ—¶å¤„ç†ï¼ˆAnnotation-Processingï¼‰"><a href="#æ–¹å¼1ï¼šç¼–è¯‘æ—¶å¤„ç†ï¼ˆAnnotation-Processingï¼‰" class="headerlink" title="æ–¹å¼1ï¼šç¼–è¯‘æ—¶å¤„ç†ï¼ˆAnnotation Processingï¼‰"></a>æ–¹å¼1ï¼šç¼–è¯‘æ—¶å¤„ç†ï¼ˆAnnotation Processingï¼‰</h4><p>ä½¿ç”¨æ³¨è§£å¤„ç†å™¨ï¼ˆAnnotation Processorï¼‰åœ¨ç¼–è¯‘æ—¶å¤„ç†æ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span> <span class="comment">// æºç é˜¶æ®µ</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Builder &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨è§£å¤„ç†å™¨ï¼ˆéœ€è¦å•ç‹¬çš„é¡¹ç›®ï¼‰</span></span><br><span class="line"><span class="meta">@SupportedAnnotationTypes(&quot;com.example.Builder&quot;)</span></span><br><span class="line"><span class="meta">@SupportedSourceVersion(SourceVersion.RELEASE_8)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BuilderProcessor</span> <span class="keyword">extends</span> <span class="title class_">AbstractProcessor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">process</span><span class="params">(Set&lt;? extends TypeElement&gt; annotations, </span></span><br><span class="line"><span class="params">                          RoundEnvironment roundEnv)</span> &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†æ³¨è§£ï¼Œç”Ÿæˆä»£ç </span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼2ï¼šè¿è¡Œæ—¶å¤„ç†ï¼ˆåå°„ï¼‰"><a href="#æ–¹å¼2ï¼šè¿è¡Œæ—¶å¤„ç†ï¼ˆåå°„ï¼‰" class="headerlink" title="æ–¹å¼2ï¼šè¿è¡Œæ—¶å¤„ç†ï¼ˆåå°„ï¼‰"></a>æ–¹å¼2ï¼šè¿è¡Œæ—¶å¤„ç†ï¼ˆåå°„ï¼‰</h4><p>é€šè¿‡åå°„åœ¨è¿è¡Œæ—¶è¯»å–å’Œå¤„ç†æ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯»å–ç±»ä¸Šçš„æ³¨è§£</span></span><br><span class="line">Class&lt;?&gt; clazz = User.class;</span><br><span class="line"><span class="keyword">if</span> (clazz.isAnnotationPresent(Table.class)) &#123;</span><br><span class="line">    <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> clazz.getAnnotation(Table.class);</span><br><span class="line">    System.out.println(<span class="string">&quot;è¡¨å: &quot;</span> + table.name());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–æ–¹æ³•ä¸Šçš„æ³¨è§£</span></span><br><span class="line">Method[] methods = clazz.getDeclaredMethods();</span><br><span class="line"><span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">    <span class="keyword">if</span> (method.isAnnotationPresent(Log.class)) &#123;</span><br><span class="line">        <span class="type">Log</span> <span class="variable">log</span> <span class="operator">=</span> method.getAnnotation(Log.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•: &quot;</span> + method.getName() + <span class="string">&quot;, æ—¥å¿—: &quot;</span> + log.value());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–å­—æ®µä¸Šçš„æ³¨è§£</span></span><br><span class="line">Field[] fields = clazz.getDeclaredFields();</span><br><span class="line"><span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">    <span class="keyword">if</span> (field.isAnnotationPresent(Column.class)) &#123;</span><br><span class="line">        <span class="type">Column</span> <span class="variable">column</span> <span class="operator">=</span> field.getAnnotation(Column.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;å­—æ®µ: &quot;</span> + field.getName() + <span class="string">&quot;, åˆ—å: &quot;</span> + column.name());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ğŸ“š-ç¬¬ä¸‰éƒ¨åˆ†ï¼šåå°„ä¸æ³¨è§£ç»“åˆåº”ç”¨"><a href="#ğŸ“š-ç¬¬ä¸‰éƒ¨åˆ†ï¼šåå°„ä¸æ³¨è§£ç»“åˆåº”ç”¨" class="headerlink" title="ğŸ“š ç¬¬ä¸‰éƒ¨åˆ†ï¼šåå°„ä¸æ³¨è§£ç»“åˆåº”ç”¨"></a>ğŸ“š ç¬¬ä¸‰éƒ¨åˆ†ï¼šåå°„ä¸æ³¨è§£ç»“åˆåº”ç”¨</h2><h3 id="3-1-Springé£æ ¼çš„ä¾èµ–æ³¨å…¥"><a href="#3-1-Springé£æ ¼çš„ä¾èµ–æ³¨å…¥" class="headerlink" title="3.1 Springé£æ ¼çš„ä¾èµ–æ³¨å…¥"></a>3.1 Springé£æ ¼çš„ä¾èµ–æ³¨å…¥</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Component &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.CONSTRUCTOR, ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Autowired &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">required</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="meta">@Component(&quot;userService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserRepository</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¿å­˜ç”¨æˆ·: &quot;</span> + user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å•çš„IoCå®¹å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleContainer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; beans = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">scanAndRegister</span><span class="params">(String packageName)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// æ‰«æåŒ…ä¸‹çš„æ‰€æœ‰ç±»</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œç›´æ¥æ³¨å†Œ</span></span><br><span class="line">        registerBean(UserService.class);</span><br><span class="line">        registerBean(UserRepository.class);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registerBean</span><span class="params">(Class&lt;?&gt; clazz)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span> (!clazz.isAnnotationPresent(Component.class)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Component</span> <span class="variable">component</span> <span class="operator">=</span> clazz.getAnnotation(Component.class);</span><br><span class="line">        <span class="type">String</span> <span class="variable">beanName</span> <span class="operator">=</span> component.value().isEmpty() </span><br><span class="line">            ? clazz.getSimpleName() </span><br><span class="line">            : component.value();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">instance</span> <span class="operator">=</span> clazz.getConstructor().newInstance();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ³¨å…¥ä¾èµ–</span></span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(Autowired.class)) &#123;</span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                <span class="type">Object</span> <span class="variable">dependency</span> <span class="operator">=</span> findBean(field.getType());</span><br><span class="line">                <span class="keyword">if</span> (dependency != <span class="literal">null</span>) &#123;</span><br><span class="line">                    field.set(instance, dependency);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        beans.put(beanName, instance);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Object <span class="title function_">findBean</span><span class="params">(Class&lt;?&gt; type)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Object bean : beans.values()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (type.isAssignableFrom(bean.getClass())) &#123;</span><br><span class="line">                <span class="keyword">return</span> bean;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">getBean</span><span class="params">(Class&lt;T&gt; type)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Object bean : beans.values()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (type.isAssignableFrom(bean.getClass())) &#123;</span><br><span class="line">                <span class="keyword">return</span> (T) bean;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-MyBatisé£æ ¼çš„ORMæ˜ å°„"><a href="#3-2-MyBatisé£æ ¼çš„ORMæ˜ å°„" class="headerlink" title="3.2 MyBatisé£æ ¼çš„ORMæ˜ å°„"></a>3.2 MyBatisé£æ ¼çš„ORMæ˜ å°„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Table &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Column &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">id</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="meta">@Table(&quot;users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@Column(value = &quot;id&quot;, id = true)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Column(&quot;username&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Column(&quot;age&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ORMæ˜ å°„å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ORMMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">mapRow</span><span class="params">(ResultSet rs, Class&lt;T&gt; clazz)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">instance</span> <span class="operator">=</span> clazz.getConstructor().newInstance();</span><br><span class="line">        <span class="type">ResultSetMetaData</span> <span class="variable">metaData</span> <span class="operator">=</span> rs.getMetaData();</span><br><span class="line">        </span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(Column.class)) &#123;</span><br><span class="line">                <span class="type">Column</span> <span class="variable">column</span> <span class="operator">=</span> field.getAnnotation(Column.class);</span><br><span class="line">                <span class="type">String</span> <span class="variable">columnName</span> <span class="operator">=</span> column.value();</span><br><span class="line">                </span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> rs.getObject(columnName);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// ç±»å‹è½¬æ¢</span></span><br><span class="line">                <span class="keyword">if</span> (value != <span class="literal">null</span>) &#123;</span><br><span class="line">                    value = convertType(value, field.getType());</span><br><span class="line">                    field.set(instance, value);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Object <span class="title function_">convertType</span><span class="params">(Object value, Class&lt;?&gt; targetType)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (targetType == Integer.class || targetType == <span class="type">int</span>.class) &#123;</span><br><span class="line">            <span class="keyword">return</span> ((Number) value).intValue();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (targetType == Long.class || targetType == <span class="type">long</span>.class) &#123;</span><br><span class="line">            <span class="keyword">return</span> ((Number) value).longValue();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-3-è‡ªå®šä¹‰JSONåºåˆ—åŒ–"><a href="#3-3-è‡ªå®šä¹‰JSONåºåˆ—åŒ–" class="headerlink" title="3.3 è‡ªå®šä¹‰JSONåºåˆ—åŒ–"></a>3.3 è‡ªå®šä¹‰JSONåºåˆ—åŒ–</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> JsonField &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">ignore</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@JsonField(name = &quot;user_id&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@JsonField(name = &quot;user_name&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@JsonField(ignore = true)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Integer age; <span class="comment">// æ²¡æœ‰æ³¨è§£ï¼Œä½¿ç”¨å­—æ®µå</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// JSONåºåˆ—åŒ–å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JsonSerializer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">toJson</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> IllegalAccessException &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">json</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;&#123;&quot;</span>);</span><br><span class="line">        Class&lt;?&gt; clazz = obj.getClass();</span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        </span><br><span class="line">        <span class="type">boolean</span> <span class="variable">first</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="type">JsonField</span> <span class="variable">jsonField</span> <span class="operator">=</span> field.getAnnotation(JsonField.class);</span><br><span class="line">            <span class="keyword">if</span> (jsonField != <span class="literal">null</span> &amp;&amp; jsonField.ignore()) &#123;</span><br><span class="line">                <span class="keyword">continue</span>; <span class="comment">// å¿½ç•¥è¯¥å­—æ®µ</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (!first) &#123;</span><br><span class="line">                json.append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            first = <span class="literal">false</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="type">String</span> <span class="variable">fieldName</span> <span class="operator">=</span> jsonField != <span class="literal">null</span> &amp;&amp; !jsonField.name().isEmpty()</span><br><span class="line">                ? jsonField.name()</span><br><span class="line">                : field.getName();</span><br><span class="line">            </span><br><span class="line">            <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(obj);</span><br><span class="line">            json.append(<span class="string">&quot;\&quot;&quot;</span>).append(fieldName).append(<span class="string">&quot;\&quot;:&quot;</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (value == <span class="literal">null</span>) &#123;</span><br><span class="line">                json.append(<span class="string">&quot;null&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">                json.append(<span class="string">&quot;\&quot;&quot;</span>).append(value).append(<span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                json.append(value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        json.append(<span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> json.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ğŸ“š-ç¬¬å››éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹"><a href="#ğŸ“š-ç¬¬å››éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹" class="headerlink" title="ğŸ“š ç¬¬å››éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹"></a>ğŸ“š ç¬¬å››éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹</h2><h3 id="4-1-å®ç°ç®€å•çš„RPCæ¡†æ¶"><a href="#4-1-å®ç°ç®€å•çš„RPCæ¡†æ¶" class="headerlink" title="4.1 å®ç°ç®€å•çš„RPCæ¡†æ¶"></a>4.1 å®ç°ç®€å•çš„RPCæ¡†æ¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// RPCæ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RpcService &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœåŠ¡æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    User <span class="title function_">getUserById</span><span class="params">(Long id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœåŠ¡å®ç°</span></span><br><span class="line"><span class="meta">@RpcService(&quot;userService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">getUserById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(id, <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// RPCæœåŠ¡æ³¨å†Œä¸­å¿ƒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RpcRegistry</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; services = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registerService</span><span class="params">(Class&lt;?&gt; serviceClass)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span> (!serviceClass.isAnnotationPresent(RpcService.class)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">RpcService</span> <span class="variable">rpcService</span> <span class="operator">=</span> serviceClass.getAnnotation(RpcService.class);</span><br><span class="line">        <span class="type">String</span> <span class="variable">serviceName</span> <span class="operator">=</span> rpcService.value().isEmpty()</span><br><span class="line">            ? serviceClass.getSimpleName()</span><br><span class="line">            : rpcService.value();</span><br><span class="line">        </span><br><span class="line">        <span class="type">Object</span> <span class="variable">instance</span> <span class="operator">=</span> serviceClass.getConstructor().newInstance();</span><br><span class="line">        services.put(serviceName, instance);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getService</span><span class="params">(String serviceName)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> services.get(serviceName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-2-å®ç°ç®€å•çš„AOPæ¡†æ¶"><a href="#4-2-å®ç°ç®€å•çš„AOPæ¡†æ¶" class="headerlink" title="4.2 å®ç°ç®€å•çš„AOPæ¡†æ¶"></a>4.2 å®ç°ç®€å•çš„AOPæ¡†æ¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AOPæ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Before &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>; <span class="comment">// åˆ‡ç‚¹è¡¨è¾¾å¼ï¼ˆç®€åŒ–ç‰ˆï¼‰</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> After &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡é¢ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line">    <span class="meta">@Before(&quot;execution(* com.example.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•æ‰§è¡Œå‰&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@After(&quot;execution(* com.example.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•æ‰§è¡Œå&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AOPä»£ç†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AopProxy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">createProxy</span><span class="params">(Object target, Object aspect)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(</span><br><span class="line">            target.getClass().getClassLoader(),</span><br><span class="line">            target.getClass().getInterfaces(),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                    <span class="comment">// æ‰§è¡Œ@Beforeæ–¹æ³•</span></span><br><span class="line">                    executeBefore(aspect, method);</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span></span><br><span class="line">                    <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(target, args);</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// æ‰§è¡Œ@Afteræ–¹æ³•</span></span><br><span class="line">                    executeAfter(aspect, method);</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">return</span> result;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeBefore</span><span class="params">(Object aspect, Method targetMethod)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Class&lt;?&gt; aspectClass = aspect.getClass();</span><br><span class="line">        Method[] methods = aspectClass.getDeclaredMethods();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            <span class="keyword">if</span> (method.isAnnotationPresent(Before.class)) &#123;</span><br><span class="line">                method.invoke(aspect);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeAfter</span><span class="params">(Object aspect, Method targetMethod)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Class&lt;?&gt; aspectClass = aspect.getClass();</span><br><span class="line">        Method[] methods = aspectClass.getDeclaredMethods();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            <span class="keyword">if</span> (method.isAnnotationPresent(After.class)) &#123;</span><br><span class="line">                method.invoke(aspect);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ğŸ“š-ç¬¬äº”éƒ¨åˆ†ï¼šæœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹"><a href="#ğŸ“š-ç¬¬äº”éƒ¨åˆ†ï¼šæœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹" class="headerlink" title="ğŸ“š ç¬¬äº”éƒ¨åˆ†ï¼šæœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹"></a>ğŸ“š ç¬¬äº”éƒ¨åˆ†ï¼šæœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2><h3 id="5-1-åå°„çš„æœ€ä½³å®è·µ"><a href="#5-1-åå°„çš„æœ€ä½³å®è·µ" class="headerlink" title="5.1 åå°„çš„æœ€ä½³å®è·µ"></a>5.1 åå°„çš„æœ€ä½³å®è·µ</h3><ol><li><p><strong>ç¼“å­˜Classã€Methodã€Fieldå¯¹è±¡</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ ä¸æ¨è</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> User.class.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line">    method.invoke(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… æ¨è</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">getNameMethod</span> <span class="operator">=</span> User.class.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line">getNameMethod.setAccessible(<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    getNameMethod.invoke(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ä½¿ç”¨setAccessible(true)é¿å…é‡å¤æ£€æŸ¥</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> User.class.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">field.setAccessible(<span class="literal">true</span>); <span class="comment">// è®¾ç½®ä¸€æ¬¡ï¼Œåç»­è®¿é—®æ›´å¿«</span></span><br></pre></td></tr></table></figure></li><li><p><strong>å¤„ç†å¼‚å¸¸</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line">    method.invoke(obj);</span><br><span class="line">&#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">    <span class="comment">// æ–¹æ³•ä¸å­˜åœ¨</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">    <span class="comment">// è®¿é—®æƒé™ä¸è¶³</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">    <span class="comment">// æ–¹æ³•æ‰§è¡Œå¼‚å¸¸</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>é¿å…è¿‡åº¦ä½¿ç”¨åå°„</strong></p><ul><li>åå°„æ¯”ç›´æ¥è°ƒç”¨æ…¢ï¼Œåªåœ¨å¿…è¦æ—¶ä½¿ç”¨</li><li>ä¼˜å…ˆè€ƒè™‘æ¥å£ã€å¤šæ€ç­‰è®¾è®¡æ¨¡å¼</li></ul></li></ol><h3 id="5-2-æ³¨è§£çš„æœ€ä½³å®è·µ"><a href="#5-2-æ³¨è§£çš„æœ€ä½³å®è·µ" class="headerlink" title="5.2 æ³¨è§£çš„æœ€ä½³å®è·µ"></a>5.2 æ³¨è§£çš„æœ€ä½³å®è·µ</h3><ol><li><p><strong>åˆç†ä½¿ç”¨@Retention</strong></p><ul><li><code>SOURCE</code>ï¼šç¼–è¯‘æ—¶å¤„ç†ï¼ˆå¦‚Lombokï¼‰</li><li><code>RUNTIME</code>ï¼šè¿è¡Œæ—¶å¤„ç†ï¼ˆå¦‚Springã€MyBatisï¼‰</li></ul></li><li><p><strong>æä¾›é»˜è®¤å€¼</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ… æ¨èï¼šæä¾›é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ä½¿ç”¨valueä½œä¸ºé»˜è®¤å±æ€§å</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ… æ¨èï¼švalueæ˜¯é»˜è®¤å±æ€§åï¼Œä½¿ç”¨æ—¶å¯ä»¥çœç•¥</span></span><br><span class="line"><span class="meta">@MyAnnotation(&quot;test&quot;)</span> <span class="comment">// ç­‰åŒäº @MyAnnotation(value = &quot;test&quot;)</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æ³¨è§£åº”è¯¥ç®€æ´æ˜äº†</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ… æ¨èï¼šæ³¨è§£åº”è¯¥ç®€å•æ˜“ç”¨</span></span><br><span class="line"><span class="meta">@NotNull</span></span><br><span class="line"><span class="meta">@Min(18)</span></span><br><span class="line"><span class="keyword">private</span> Integer age;</span><br></pre></td></tr></table></figure></li></ol><h3 id="5-3-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a href="#5-3-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="5.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a>5.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3><h4 id="é—®é¢˜1ï¼šåå°„è®¿é—®ç§æœ‰æˆå‘˜å¤±è´¥"><a href="#é—®é¢˜1ï¼šåå°„è®¿é—®ç§æœ‰æˆå‘˜å¤±è´¥" class="headerlink" title="é—®é¢˜1ï¼šåå°„è®¿é—®ç§æœ‰æˆå‘˜å¤±è´¥"></a>é—®é¢˜1ï¼šåå°„è®¿é—®ç§æœ‰æˆå‘˜å¤±è´¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ é”™è¯¯</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> User.class.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(user); <span class="comment">// æŠ›å‡ºIllegalAccessException</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… æ­£ç¡®</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> User.class.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">field.setAccessible(<span class="literal">true</span>); <span class="comment">// è®¾ç½®å¯è®¿é—®</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(user);</span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜2ï¼šè·å–æ³›å‹ç±»å‹ä¿¡æ¯"><a href="#é—®é¢˜2ï¼šè·å–æ³›å‹ç±»å‹ä¿¡æ¯" class="headerlink" title="é—®é¢˜2ï¼šè·å–æ³›å‹ç±»å‹ä¿¡æ¯"></a>é—®é¢˜2ï¼šè·å–æ³›å‹ç±»å‹ä¿¡æ¯</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ³›å‹ç±»å‹</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> User.class.getDeclaredField(<span class="string">&quot;list&quot;</span>);</span><br><span class="line"><span class="type">Type</span> <span class="variable">genericType</span> <span class="operator">=</span> field.getGenericType();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (genericType <span class="keyword">instanceof</span> ParameterizedType) &#123;</span><br><span class="line">    <span class="type">ParameterizedType</span> <span class="variable">paramType</span> <span class="operator">=</span> (ParameterizedType) genericType;</span><br><span class="line">    Type[] actualTypes = paramType.getActualTypeArguments();</span><br><span class="line">    Class&lt;?&gt; actualType = (Class&lt;?&gt;) actualTypes[<span class="number">0</span>];</span><br><span class="line">    System.out.println(<span class="string">&quot;æ³›å‹ç±»å‹: &quot;</span> + actualType);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜3ï¼šæ³¨è§£ç»§æ‰¿é—®é¢˜"><a href="#é—®é¢˜3ï¼šæ³¨è§£ç»§æ‰¿é—®é¢˜" class="headerlink" title="é—®é¢˜3ï¼šæ³¨è§£ç»§æ‰¿é—®é¢˜"></a>é—®é¢˜3ï¼šæ³¨è§£ç»§æ‰¿é—®é¢˜</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @Inheritedæ³¨è§£å¯ä»¥è®©å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ³¨è§£</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Inherited</span> <span class="comment">// å­ç±»å¯ä»¥ç»§æ‰¿</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@MyAnnotation</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="comment">// Childç±»ä¹Ÿä¼šæ‹¥æœ‰@MyAnnotationæ³¨è§£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ğŸ“š-ç¬¬å…­éƒ¨åˆ†ï¼šå­¦ä¹ èµ„æºä¸æ€»ç»“"><a href="#ğŸ“š-ç¬¬å…­éƒ¨åˆ†ï¼šå­¦ä¹ èµ„æºä¸æ€»ç»“" class="headerlink" title="ğŸ“š ç¬¬å…­éƒ¨åˆ†ï¼šå­¦ä¹ èµ„æºä¸æ€»ç»“"></a>ğŸ“š ç¬¬å…­éƒ¨åˆ†ï¼šå­¦ä¹ èµ„æºä¸æ€»ç»“</h2><h3 id="6-1-å­¦ä¹ èµ„æº"><a href="#6-1-å­¦ä¹ èµ„æº" class="headerlink" title="6.1 å­¦ä¹ èµ„æº"></a>6.1 å­¦ä¹ èµ„æº</h3><ul><li><p><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/tutorial/reflect/">Java Reflection API</a></li><li><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/tutorial/java/annotations/">Java Annotations</a></li></ul></li><li><p><strong>æ¡†æ¶æºç </strong>ï¼š</p><ul><li>Spring Frameworkï¼ˆå¤§é‡ä½¿ç”¨åå°„å’Œæ³¨è§£ï¼‰</li><li>MyBatisï¼ˆORMæ˜ å°„ï¼‰</li><li>Jacksonï¼ˆJSONåºåˆ—åŒ–ï¼‰</li></ul></li></ul><h3 id="6-2-æ€»ç»“"><a href="#6-2-æ€»ç»“" class="headerlink" title="6.2 æ€»ç»“"></a>6.2 æ€»ç»“</h3><p><strong>åå°„çš„æ ¸å¿ƒè¦ç‚¹</strong>ï¼š</p><ul><li>âœ… åå°„å…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–å’Œæ“ä½œç±»ä¿¡æ¯</li><li>âœ… é€šè¿‡Classå¯¹è±¡å¯ä»¥è·å–å­—æ®µã€æ–¹æ³•ã€æ„é€ å™¨ç­‰</li><li>âœ… åå°„æ€§èƒ½è¾ƒä½ï¼Œéœ€è¦åˆç†ä½¿ç”¨å’Œä¼˜åŒ–</li><li>âœ… å¹¿æ³›åº”ç”¨äºæ¡†æ¶å¼€å‘</li></ul><p><strong>æ³¨è§£çš„æ ¸å¿ƒè¦ç‚¹</strong>ï¼š</p><ul><li>âœ… æ³¨è§£æ˜¯å…ƒæ•°æ®æœºåˆ¶ï¼Œä¸ºä»£ç æä¾›é¢å¤–ä¿¡æ¯</li><li>âœ… é€šè¿‡å…ƒæ³¨è§£æ§åˆ¶æ³¨è§£çš„è¡Œä¸º</li><li>âœ… å¯ä»¥åœ¨ç¼–è¯‘æ—¶æˆ–è¿è¡Œæ—¶å¤„ç†æ³¨è§£</li><li>âœ… å¹¿æ³›åº”ç”¨äºæ¡†æ¶é…ç½®å’Œä»£ç ç”Ÿæˆ</li></ul><p><strong>åå°„ä¸æ³¨è§£çš„ç»“åˆ</strong>ï¼š</p><ul><li>âœ… æ³¨è§£æä¾›å…ƒæ•°æ®ï¼Œåå°„è¯»å–å’Œå¤„ç†</li><li>âœ… æ¡†æ¶é€šè¿‡åå°„è¯»å–æ³¨è§£æ¥å®ç°å„ç§åŠŸèƒ½</li><li>âœ… æŒæ¡åå°„å’Œæ³¨è§£æ˜¯ç†è§£æ¡†æ¶åŸç†çš„åŸºç¡€</li></ul><hr><h2 id="ğŸ™-è‡´è°¢"><a href="#ğŸ™-è‡´è°¢" class="headerlink" title="ğŸ™ è‡´è°¢"></a>ğŸ™ è‡´è°¢</h2><p>æ„Ÿè°¢æ‰€æœ‰ä¸ºJavaç¤¾åŒºåšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼Œä»¥åŠæ‰€æœ‰æä¾›ä¼˜ç§€å­¦ä¹ èµ„æºçš„ä½œè€…ä»¬ã€‚</p><hr><h2 id="ğŸ“„-ç‰ˆæƒå£°æ˜"><a href="#ğŸ“„-ç‰ˆæƒå£°æ˜" class="headerlink" title="ğŸ“„ ç‰ˆæƒå£°æ˜"></a>ğŸ“„ ç‰ˆæƒå£°æ˜</h2><p>æœ¬æ–‡æ¡£é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://suochina.github.io">SuoL</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://suochina.github.io/java-reflection-annotation-guide/">https://suochina.github.io/java-reflection-annotation-guide/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://suochina.github.io" target="_blank">SuoL's Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/%E5%8F%8D%E5%B0%84/">åå°„</a><a class="post-meta__tags" href="/tags/%E6%B3%A8%E8%A7%A3/">æ³¨è§£</a><a class="post-meta__tags" href="/tags/%E5%85%83%E7%BC%96%E7%A8%8B/">å…ƒç¼–ç¨‹</a><a class="post-meta__tags" href="/tags/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/">æ¡†æ¶å¼€å‘</a></div><div class="post-share"><div class="social-share" data-image="/images/java/reflection-cover.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/java-generics-guide/" title="Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/java/generics-cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š</div></div><div class="info-2"><div class="info-item-1">å…¨é¢å­¦ä¹ Javaæ³›å‹æœºåˆ¶ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨ï¼ŒæŒæ¡æ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•ã€é€šé…ç¬¦ã€ç±»å‹æ“¦é™¤ç­‰æ ¸å¿ƒçŸ¥è¯†ï¼Œæå‡ä»£ç çš„ç±»å‹å®‰å…¨æ€§å’Œå¯è¯»æ€§</div></div></div></a><a class="pagination-related" href="/bug-review-record/" title="Bugå¤ç›˜è®°å½• - é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/bug/bug-cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">Bugå¤ç›˜è®°å½• - é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ</div></div><div class="info-2"><div class="info-item-1">è®°å½•å·¥ä½œä¸­é‡åˆ°çš„å„ç§Bugå’Œé—®é¢˜ï¼Œåˆ†æé—®é¢˜åŸå› ï¼Œæ€»ç»“è§£å†³æ–¹æ¡ˆï¼Œç§¯ç´¯æ•…éšœæ’æŸ¥ç»éªŒ</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/java-functional-programming-guide/" title="Javaå‡½æ•°å¼ç¼–ç¨‹è¯¦è§£ï¼šä»Lambdaåˆ°Streamçš„å®Œæ•´æŒ‡å—"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E7%94%9F%E6%88%90%20Java%20%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E5%B0%81%E9%9D%A2%E5%9B%BE.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-02</div><div class="info-item-2">Javaå‡½æ•°å¼ç¼–ç¨‹è¯¦è§£ï¼šä»Lambdaåˆ°Streamçš„å®Œæ•´æŒ‡å—</div></div><div class="info-2"><div class="info-item-1">æ·±å…¥ç†è§£Javaå‡½æ•°å¼ç¼–ç¨‹ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨ï¼ŒåŒ…å«Lambdaè¡¨è¾¾å¼ã€æ–¹æ³•å¼•ç”¨ã€é—­åŒ…ã€æŸ¯é‡ŒåŒ–ç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œä»¥åŠStream APIçš„å®Œæ•´ä½¿ç”¨æŒ‡å—</div></div></div></a><a class="pagination-related" href="/java-multithreading-learning/" title="å¤šçº¿ç¨‹å­¦ä¹ è®°å½• - ä»å…¥é—¨åˆ°å®æˆ˜"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/java/threading-cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-24</div><div class="info-item-2">å¤šçº¿ç¨‹å­¦ä¹ è®°å½• - ä»å…¥é—¨åˆ°å®æˆ˜</div></div><div class="info-2"><div class="info-item-1">å…¨é¢å­¦ä¹ Javaå¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åº”ç”¨ï¼ŒæŒæ¡çº¿ç¨‹ã€çº¿ç¨‹æ± ã€å¹¶å‘å·¥å…·ç±»ç­‰æ ¸å¿ƒçŸ¥è¯†</div></div></div></a><a class="pagination-related" href="/java-generics-guide/" title="Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/java/generics-cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-24</div><div class="info-item-2">Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š</div></div><div class="info-2"><div class="info-item-1">å…¨é¢å­¦ä¹ Javaæ³›å‹æœºåˆ¶ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨ï¼ŒæŒæ¡æ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•ã€é€šé…ç¬¦ã€ç±»å‹æ“¦é™¤ç­‰æ ¸å¿ƒçŸ¥è¯†ï¼Œæå‡ä»£ç çš„ç±»å‹å®‰å…¨æ€§å’Œå¯è¯»æ€§</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/my_cat.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">SuoL</div><div class="author-info-description">çƒ­çˆ±æŠ€æœ¯çš„å¼€å‘è€…ï¼Œä¸“æ³¨äºå‰ç«¯å¼€å‘å’Œå…¨æ ˆå¼€å‘</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">49</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/suoChina"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">æ¬¢è¿æ¥åˆ°æˆ‘çš„æŠ€æœ¯åšå®¢ï¼è¿™é‡Œåˆ†äº«æŠ€æœ¯å­¦ä¹ ä¸æˆé•¿å¿ƒå¾— ğŸš€</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E8%A7%A3%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E6%88%98-%F0%9F%94%8D"><span class="toc-number">1.</span> <span class="toc-text">Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜ ğŸ”</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8B-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ“‹ ç›®å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9D-%E6%96%87%E6%A1%A3%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ“ æ–‡æ¡£ä¿¡æ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%9AJava%E5%8F%8D%E5%B0%84%EF%BC%88Reflection%EF%BC%89"><span class="toc-number">1.3.</span> <span class="toc-text">ğŸ“š ç¬¬ä¸€éƒ¨åˆ†ï¼šJavaåå°„ï¼ˆReflectionï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8D%E5%B0%84%EF%BC%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.1 ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%8F%8D%E5%B0%84%E7%9A%84%E6%A0%B8%E5%BF%83%E7%B1%BB"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.2 åå°„çš„æ ¸å¿ƒç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E8%8E%B7%E5%8F%96Class%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3 è·å–Classå¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9A%E9%80%9A%E8%BF%87%E7%B1%BB%E5%90%8D-class%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">æ–¹å¼1ï¼šé€šè¿‡ç±»å.classï¼ˆæ¨èï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9A%E9%80%9A%E8%BF%87%E5%AF%B9%E8%B1%A1-getClass"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">æ–¹å¼2ï¼šé€šè¿‡å¯¹è±¡.getClass()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F3%EF%BC%9A%E9%80%9A%E8%BF%87Class-forName-%EF%BC%88%E6%9C%80%E5%B8%B8%E7%94%A8%EF%BC%89"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">æ–¹å¼3ï¼šé€šè¿‡Class.forName()ï¼ˆæœ€å¸¸ç”¨ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F4%EF%BC%9A%E9%80%9A%E8%BF%87%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">æ–¹å¼4ï¼šé€šè¿‡ç±»åŠ è½½å™¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.4 åˆ›å»ºå¯¹è±¡å®ä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9A%E4%BD%BF%E7%94%A8newInstance-%EF%BC%88%E5%B7%B2%E5%BA%9F%E5%BC%83%EF%BC%8CJava-9-%EF%BC%89"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">æ–¹å¼1ï¼šä½¿ç”¨newInstance()ï¼ˆå·²åºŸå¼ƒï¼ŒJava 9+ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9A%E4%BD%BF%E7%94%A8Constructor-newInstance-%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">æ–¹å¼2ï¼šä½¿ç”¨Constructor.newInstance()ï¼ˆæ¨èï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E8%8E%B7%E5%8F%96%E5%92%8C%E6%93%8D%E4%BD%9C%E5%AD%97%E6%AE%B5%EF%BC%88Field%EF%BC%89"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.5 è·å–å’Œæ“ä½œå­—æ®µï¼ˆFieldï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%97%E6%AE%B5"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">è·å–å­—æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%92%8C%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E5%80%BC"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">è®¿é—®å’Œä¿®æ”¹å­—æ®µå€¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%E8%8E%B7%E5%8F%96%E5%92%8C%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%88Method%EF%BC%89"><span class="toc-number">1.3.6.</span> <span class="toc-text">1.6 è·å–å’Œè°ƒç”¨æ–¹æ³•ï¼ˆMethodï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">è·å–æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.6.2.</span> <span class="toc-text">è°ƒç”¨æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-%E5%8F%8D%E5%B0%84%E7%9A%84%E5%B8%B8%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.3.7.</span> <span class="toc-text">1.7 åå°„çš„å¸¸ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF1%EF%BC%9A%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91%EF%BC%88%E5%A6%82Spring%EF%BC%89"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">åœºæ™¯1ï¼šæ¡†æ¶å¼€å‘ï¼ˆå¦‚Springï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF2%EF%BC%9AORM%E6%98%A0%E5%B0%84%EF%BC%88%E5%A6%82MyBatis%EF%BC%89"><span class="toc-number">1.3.7.2.</span> <span class="toc-text">åœºæ™¯2ï¼šORMæ˜ å°„ï¼ˆå¦‚MyBatisï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF3%EF%BC%9A%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-number">1.3.7.3.</span> <span class="toc-text">åœºæ™¯3ï¼šåŠ¨æ€ä»£ç†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-%E5%8F%8D%E5%B0%84%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.3.8.</span> <span class="toc-text">1.8 åå°„çš„æ€§èƒ½ä¼˜åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9A%E7%BC%93%E5%AD%98Class%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.8.1.</span> <span class="toc-text">æ–¹å¼1ï¼šç¼“å­˜Classå¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9A%E7%BC%93%E5%AD%98Method%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.8.2.</span> <span class="toc-text">æ–¹å¼2ï¼šç¼“å­˜Methodå¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F3%EF%BC%9A%E4%BD%BF%E7%94%A8MethodHandle%EF%BC%88Java-7-%EF%BC%89"><span class="toc-number">1.3.8.3.</span> <span class="toc-text">æ–¹å¼3ï¼šä½¿ç”¨MethodHandleï¼ˆJava 7+ï¼‰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%EF%BC%9AJava%E6%B3%A8%E8%A7%A3%EF%BC%88Annotation%EF%BC%89"><span class="toc-number">1.4.</span> <span class="toc-text">ğŸ“š ç¬¬äºŒéƒ¨åˆ†ï¼šJavaæ³¨è§£ï¼ˆAnnotationï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%A8%E8%A7%A3%EF%BC%9F"><span class="toc-number">1.4.1.</span> <span class="toc-text">2.1 ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%86%85%E7%BD%AE%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.2.</span> <span class="toc-text">2.2 å†…ç½®æ³¨è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%85%83%E6%B3%A8%E8%A7%A3%EF%BC%88Meta-Annotation%EF%BC%89"><span class="toc-number">1.4.3.</span> <span class="toc-text">2.3 å…ƒæ³¨è§£ï¼ˆMeta-Annotationï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Target-%E6%8C%87%E5%AE%9A%E4%BD%BF%E7%94%A8%E4%BD%8D%E7%BD%AE"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">@Target - æŒ‡å®šä½¿ç”¨ä½ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Retention-%E6%8C%87%E5%AE%9A%E4%BF%9D%E7%95%99%E7%AD%96%E7%95%A5"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">@Retention - æŒ‡å®šä¿ç•™ç­–ç•¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.4.</span> <span class="toc-text">2.4 è‡ªå®šä¹‰æ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">å®šä¹‰æ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E5%B1%9E%E6%80%A7%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">æ³¨è§£å±æ€§ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8"><span class="toc-number">1.4.5.</span> <span class="toc-text">2.5 æ³¨è§£çš„å®é™…åº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A81%EF%BC%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AA%8C%E8%AF%81%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">åº”ç”¨1ï¼šè‡ªå®šä¹‰éªŒè¯æ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A82%EF%BC%9A%E8%87%AA%E5%AE%9A%E4%B9%89ORM%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.5.2.</span> <span class="toc-text">åº”ç”¨2ï¼šè‡ªå®šä¹‰ORMæ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A83%EF%BC%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%A5%E5%BF%97%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.5.3.</span> <span class="toc-text">åº”ç”¨3ï¼šè‡ªå®šä¹‰æ—¥å¿—æ³¨è§£</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.6.</span> <span class="toc-text">2.6 æ³¨è§£çš„å¤„ç†æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9A%E7%BC%96%E8%AF%91%E6%97%B6%E5%A4%84%E7%90%86%EF%BC%88Annotation-Processing%EF%BC%89"><span class="toc-number">1.4.6.1.</span> <span class="toc-text">æ–¹å¼1ï¼šç¼–è¯‘æ—¶å¤„ç†ï¼ˆAnnotation Processingï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9A%E8%BF%90%E8%A1%8C%E6%97%B6%E5%A4%84%E7%90%86%EF%BC%88%E5%8F%8D%E5%B0%84%EF%BC%89"><span class="toc-number">1.4.6.2.</span> <span class="toc-text">æ–¹å¼2ï¼šè¿è¡Œæ—¶å¤„ç†ï¼ˆåå°„ï¼‰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%EF%BC%9A%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E8%A7%A3%E7%BB%93%E5%90%88%E5%BA%94%E7%94%A8"><span class="toc-number">1.5.</span> <span class="toc-text">ğŸ“š ç¬¬ä¸‰éƒ¨åˆ†ï¼šåå°„ä¸æ³¨è§£ç»“åˆåº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Spring%E9%A3%8E%E6%A0%BC%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.5.1.</span> <span class="toc-text">3.1 Springé£æ ¼çš„ä¾èµ–æ³¨å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-MyBatis%E9%A3%8E%E6%A0%BC%E7%9A%84ORM%E6%98%A0%E5%B0%84"><span class="toc-number">1.5.2.</span> <span class="toc-text">3.2 MyBatisé£æ ¼çš„ORMæ˜ å°„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E8%87%AA%E5%AE%9A%E4%B9%89JSON%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">1.5.3.</span> <span class="toc-text">3.3 è‡ªå®šä¹‰JSONåºåˆ—åŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%EF%BC%9A%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B"><span class="toc-number">1.6.</span> <span class="toc-text">ğŸ“š ç¬¬å››éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84RPC%E6%A1%86%E6%9E%B6"><span class="toc-number">1.6.1.</span> <span class="toc-text">4.1 å®ç°ç®€å•çš„RPCæ¡†æ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84AOP%E6%A1%86%E6%9E%B6"><span class="toc-number">1.6.2.</span> <span class="toc-text">4.2 å®ç°ç®€å•çš„AOPæ¡†æ¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%EF%BC%9A%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.7.</span> <span class="toc-text">ğŸ“š ç¬¬äº”éƒ¨åˆ†ï¼šæœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%8F%8D%E5%B0%84%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.7.1.</span> <span class="toc-text">5.1 åå°„çš„æœ€ä½³å®è·µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.7.2.</span> <span class="toc-text">5.2 æ³¨è§£çš„æœ€ä½³å®è·µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.7.3.</span> <span class="toc-text">5.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%981%EF%BC%9A%E5%8F%8D%E5%B0%84%E8%AE%BF%E9%97%AE%E7%A7%81%E6%9C%89%E6%88%90%E5%91%98%E5%A4%B1%E8%B4%A5"><span class="toc-number">1.7.3.1.</span> <span class="toc-text">é—®é¢˜1ï¼šåå°„è®¿é—®ç§æœ‰æˆå‘˜å¤±è´¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%982%EF%BC%9A%E8%8E%B7%E5%8F%96%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.7.3.2.</span> <span class="toc-text">é—®é¢˜2ï¼šè·å–æ³›å‹ç±»å‹ä¿¡æ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%983%EF%BC%9A%E6%B3%A8%E8%A7%A3%E7%BB%A7%E6%89%BF%E9%97%AE%E9%A2%98"><span class="toc-number">1.7.3.3.</span> <span class="toc-text">é—®é¢˜3ï¼šæ³¨è§£ç»§æ‰¿é—®é¢˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86%EF%BC%9A%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90%E4%B8%8E%E6%80%BB%E7%BB%93"><span class="toc-number">1.8.</span> <span class="toc-text">ğŸ“š ç¬¬å…­éƒ¨åˆ†ï¼šå­¦ä¹ èµ„æºä¸æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90"><span class="toc-number">1.8.1.</span> <span class="toc-text">6.1 å­¦ä¹ èµ„æº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%80%BB%E7%BB%93"><span class="toc-number">1.8.2.</span> <span class="toc-text">6.2 æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%99%8F-%E8%87%B4%E8%B0%A2"><span class="toc-number">1.9.</span> <span class="toc-text">ğŸ™ è‡´è°¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%84-%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E"><span class="toc-number">1.10.</span> <span class="toc-text">ğŸ“„ ç‰ˆæƒå£°æ˜</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/java-multithreading-learning/" title="å¤šçº¿ç¨‹å­¦ä¹ è®°å½• - ä»å…¥é—¨åˆ°å®æˆ˜"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/java/threading-cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="å¤šçº¿ç¨‹å­¦ä¹ è®°å½• - ä»å…¥é—¨åˆ°å®æˆ˜"></a><div class="content"><a class="title" href="/java-multithreading-learning/" title="å¤šçº¿ç¨‹å­¦ä¹ è®°å½• - ä»å…¥é—¨åˆ°å®æˆ˜">å¤šçº¿ç¨‹å­¦ä¹ è®°å½• - ä»å…¥é—¨åˆ°å®æˆ˜</a><time datetime="2025-11-24T15:30:00.000Z" title="å‘è¡¨äº 2025-11-24 23:30:00">2025-11-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/bug-review-record/" title="Bugå¤ç›˜è®°å½• - é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/bug/bug-cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Bugå¤ç›˜è®°å½• - é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ"></a><div class="content"><a class="title" href="/bug-review-record/" title="Bugå¤ç›˜è®°å½• - é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ">Bugå¤ç›˜è®°å½• - é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ</a><time datetime="2025-11-24T15:30:00.000Z" title="å‘è¡¨äº 2025-11-24 23:30:00">2025-11-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/java-reflection-annotation-guide/" title="Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/java/reflection-cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜"></a><div class="content"><a class="title" href="/java-reflection-annotation-guide/" title="Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜">Javaåå°„ä¸æ³¨è§£å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜</a><time datetime="2025-11-24T15:30:00.000Z" title="å‘è¡¨äº 2025-11-24 23:30:00">2025-11-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/java-generics-guide/" title="Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/java/generics-cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š"></a><div class="content"><a class="title" href="/java-generics-guide/" title="Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š">Javaæ³›å‹å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°ç²¾é€š</a><time datetime="2025-11-24T15:30:00.000Z" title="å‘è¡¨äº 2025-11-24 23:30:00">2025-11-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/redis-learning-guide/" title="Redisä¸­é—´ä»¶å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/redis/cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Redisä¸­é—´ä»¶å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜"></a><div class="content"><a class="title" href="/redis-learning-guide/" title="Redisä¸­é—´ä»¶å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜">Redisä¸­é—´ä»¶å­¦ä¹ æŒ‡å— - ä»å…¥é—¨åˆ°å®æˆ˜</a><time datetime="2025-11-09T15:30:00.000Z" title="å‘è¡¨äº 2025-11-09 23:30:00">2025-11-09</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By SuoL</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.2.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0</a></span></div><div class="footer_custom_text">æ„Ÿè°¢è®¿é—®æˆ‘çš„æŠ€æœ¯åšå®¢ï¼å¦‚æœ‰é—®é¢˜æ¬¢è¿äº¤æµè®¨è®º ğŸš€</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><script>const clickTexts=["âœ¨ å“‡ï¼","ğŸ’« å¤ªæ£’äº†ï¼","ğŸ‰ èµï¼","ğŸŒŸ ç²¾å½©ï¼","ğŸ’– å–œæ¬¢ï¼","ğŸš€ é…·ï¼","â­ æ£’ï¼","ğŸ’ ç¾ï¼","ğŸ”¥ çƒ­ï¼","ğŸ’¯ å®Œç¾ï¼","ğŸ˜Š å¼€å¿ƒï¼","ğŸŠ åº†ç¥ï¼","ğŸ’ æƒŠå–œï¼","ğŸŒˆ å½©è™¹ï¼","ğŸˆ æ°”çƒï¼","ğŸ€ å¹¸è¿ï¼","ğŸ ç¤¼ç‰©ï¼","ğŸ’ é²œèŠ±ï¼","ğŸµ éŸ³ä¹ï¼","ğŸ¨ è‰ºæœ¯ï¼"];function createClickEffect(e){const t=document.createElement("div");t.className="click-effect",t.textContent=clickTexts[Math.floor(Math.random()*clickTexts.length)],t.style.left=e.clientX+"px",t.style.top=e.clientY+"px",document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},1e3),createRipple(e)}function createRipple(e){const t=document.createElement("div");t.className="ripple";t.style.width="20px",t.style.height="20px",t.style.left=e.clientX-10+"px",t.style.top=e.clientY-10+"px",document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},600)}document.addEventListener("click",createClickEffect);let isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);isMobile&&document.addEventListener("touchstart",(function(e){1===e.touches.length&&createClickEffect(e.touches[0])}))</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> æ•°æ®åŠ è½½ä¸­</span></div><div class="local-search-input"><input placeholder="æœç´¢æ–‡ç« ..." type="text"></div><hr><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>